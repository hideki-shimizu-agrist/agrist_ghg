<!doctype html>
<html lang="ja">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>AGRIST æ¸©å®¤GHG è©¦ç®—ï¼ˆåœ°åŸŸã®å¹³å‡çš„ãªç›®å®‰ã¤ãï¼šé¹¿å…å³¶ãƒ»ä¿ƒæˆãƒ”ãƒ¼ãƒãƒ³ï¼‰</title>
    <style>
        /* ===== AGRIST brand (logo guideline) =====
     Primary green: #007C3E / Neutral text: #222222
     Tints: #B2D7C5, #99CAB1, #329664, #198951
     Japanese font: ãƒ­ãƒ€ãƒ³Proç³» â†’ è¿‘ä¼¼ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’ä½¿ç”¨
  */
        :root {
            --green: #007C3E;
            --green-80: #198951;
            --green-60: #329664;
            --green-20: #B2D7C5;
            --text: #222222;
            --muted: #475569;
            --bg: #F7F8F9;
            --panel: #ffffff;
            --warn: #B91C1C;
            --line: #E6EAEE;
            --chip: #E9F5EE;
        }

        html,
        body {
            margin: 0;
            padding: 0;
            background: var(--bg);
            color: var(--text);
            font-family: "TT Norms Pro", "Noto Sans JP", "Hiragino Kaku Gothic ProN", "BIZ UDPGothic", system-ui, sans-serif;
        }

        .wrap {
            max-width: 1080px;
            margin: 20px auto;
            padding: 0 16px
        }

        header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 6px 0 16px
        }

        .mark {
            width: 28px;
            height: 28px;
            background: conic-gradient(from 0deg at 50% 50%, var(--green) 0 60%, var(--green-80) 60% 100%);
            border-radius: 7px
        }

        h1 {
            font-size: 26px;
            margin: 0
        }

        .sub {
            color: #334155
        }

        .card {
            background: var(--panel);
            border-radius: 12px;
            border: 1px solid var(--line);
            box-shadow: 0 4px 16px rgba(0, 0, 0, .04);
            padding: 16px;
            margin: 14px 0
        }

        h2 {
            font-size: 20px;
            margin: 0 0 12px
        }

        .row {
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap
        }

        .note {
            color: #5b6775;
            font-size: 14px
        }

        .hint {
            font-size: 13px;
            color: #334155;
            margin-top: 6px
        }

        .areaInput {
            font-size: 18px;
            padding: 8px 10px;
            border: 2px solid var(--green-20);
            border-radius: 10px
        }

        table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0 8px
        }

        th,
        td {
            padding: 10px 12px;
            vertical-align: top
        }

        thead th {
            background: #EEF6F0;
            color: #0f1b12;
            text-align: left;
            border-top-left-radius: 8px;
            border-top-right-radius: 8px
        }

        tbody td {
            background: #fff;
            border: 1px solid #eef2f6
        }

        .inputCell input {
            width: 220px;
            font-size: 18px;
            padding: 8px;
            border: 2px solid var(--green-20);
            border-radius: 10px;
            background: #FFFAE3
        }

        .bench {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 10px;
            border-radius: 999px;
            background: var(--chip);
            border: 1px solid #D8EDE1;
            color: #0f3b23
        }

        .bench b {
            color: var(--green-60)
        }

        .deltaPos {
            color: var(--green-80);
            font-weight: 700
        }

        .deltaNeg {
            color: var(--warn);
            font-weight: 700
        }

        .kpi {
            min-width: 220px;
            background: #fff;
            border: 1px solid var(--line);
            border-radius: 12px;
            padding: 12px 14px
        }

        .kpi .v {
            font-size: 24px;
            font-weight: 800
        }

        .kpi .c {
            font-size: 13px;
            color: #475569
        }

        .tag {
            display: inline-block;
            font-size: 12px;
            color: #0f3b23;
            background: var(--green-20);
            padding: 3px 8px;
            border-radius: 999px;
            border: 1px solid #D8EDE1
        }

        a {
            color: var(--green-60);
            text-decoration: none;
            border-bottom: 1px dotted var(--green-60)
        }
    </style>
</head>

<body>
    <div class="wrap">
        <header>
            <div class="mark"></div>
            <div>
                <h1>AGRIST æ¸©å®¤GHG è©¦ç®—</h1>
                <div class="sub">åœ°åŸŸã®å¹³å‡çš„ãªç›®å®‰ï¼ˆé¹¿å…å³¶ãƒ»ä¿ƒæˆãƒ”ãƒ¼ãƒãƒ³ï¼‰ã¨æ¯”è¼ƒã—ã¦ã€ã‚ãªãŸã®æ•°å€¤ãŒã©ã‚Œã ã‘<strong>å‰Šæ¸›</strong>ã§ãã¦ã„ã‚‹ã‹ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚</div>
            </div>
        </header>

        <div class="card">
            <h2>â‘  é¢ç©</h2>
            <div class="row">
                <label><b>é¢ç©</b>ï¼ˆaï¼100ã¡ã€10a=0.1haï¼‰ï¼š
                    <input id="areaA" class="areaInput" type="number" min="1" step="1" value="10">
                </label>
                <span class="tag">ä½œå‹ï¼šé¹¿å…å³¶ãƒ»ä¿ƒæˆï¼ˆåŠ æ¸©ã‚ã‚Šï¼‰</span>
                <span class="tag">æ¯”è¼ƒï¼šåœ°åŸŸã®å¹³å‡çš„ãªç›®å®‰</span>
            </div>
            <div class="note" style="margin-top:8px">â€» å³ã®ç›®å®‰å€¤ã¯é¢ç©ã§è‡ªå‹•æ›ç®—ã•ã‚Œã¾ã™ã€‚è«‹æ±‚æ›¸ã‚„ä¼ç¥¨ã®<strong>å¹´é–“åˆè¨ˆ</strong>ã‚’é»„è‰²ã®æ¬„ã«å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚
            </div>
        </div>

        <div class="card">
            <h2>â‘¡ å¹´é–“ã®æ´»å‹•é‡ï¼ˆã‚ãªãŸã®å…¥åŠ› &amp; åœ°åŸŸã®å¹³å‡çš„ãªç›®å®‰ï¼‰</h2>
            <table>
                <thead>
                    <tr>
                        <th>é …ç›® <span class="note">ï¼ˆã‹ã‚“ãŸã‚“ãªèª¬æ˜ï¼‰</span></th>
                        <th>ã‚ãªãŸã®å…¥åŠ›</th>
                        <th>åœ°åŸŸã®å¹³å‡çš„ãªç›®å®‰</th>
                        <th>å·®ï¼ˆã‚ãªãŸ âˆ’ ç›®å®‰ï¼‰</th>
                    </tr>
                </thead>
                <tbody id="tbody_inputs"></tbody>
            </table>
            <div class="hint">ğŸ›ˆ å…¥åŠ›ã¯ã€Œå¹´é–“åˆè¨ˆã€ã§ã™ï¼ˆé›»åŠ›kWhãƒ»ç‡ƒæ–™/è‚¥æ–™ã®Lã‚„kgãƒ»å¹´é–“å‡ºè·é‡ï¼‰ã€‚</div>
        </div>

        <div class="card">
            <h2>â‘¢ çµæœï¼ˆã‚ãªãŸ vs åœ°åŸŸã®å¹³å‡çš„ãªç›®å®‰ï¼‰</h2>
            <div class="row" style="gap:14px">
                <div class="kpi">
                    <div class="v" id="kpi_total">0</div>
                    <div class="c">åˆè¨ˆï¼ˆkgCOâ‚‚e/å¹´ï¼‰</div>
                </div>
                <div class="kpi">
                    <div class="v" id="kpi_intensity">â€”</div>
                    <div class="c">1kgã‚ãŸã‚Šï¼ˆkgCOâ‚‚e/kgï¼‰â€»å‡ºè·é‡å…¥åŠ›æ™‚</div>
                </div>
                <div class="kpi">
                    <div class="v" id="kpi_delta">â€”</div>
                    <div class="c">åœ°åŸŸç›®å®‰æ¯”ï¼ˆ%ï¼‰<span class="note">ãƒã‚¤ãƒŠã‚¹ï¼å‰Šæ¸›</span></div>
                </div>
                <div class="kpi">
                    <div class="v" id="kpi_abs_reduction">â€”</div>
                    <div class="c">å‰Šæ¸›é‡ï¼ˆkgCOâ‚‚e/å¹´ï¼‰</div>
                </div>
            </div>
            <table style="margin-top:10px">
                <thead>
                    <tr>
                        <th>å†…è¨³</th>
                        <th>ã‚ãªãŸï¼ˆkgCOâ‚‚e/å¹´ï¼‰</th>
                        <th>åœ°åŸŸã®å¹³å‡çš„ãªç›®å®‰</th>
                        <th>å·®ï¼ˆã‚ãªãŸ âˆ’ ç›®å®‰ï¼‰</th>
                    </tr>
                </thead>
                <tbody id="tbody_break"></tbody>
            </table>
            <div class="note" style="margin-top:8px">å†…è¨³ï¼šé›»åŠ›ã€Aé‡æ²¹ã€LPGã€è»½æ²¹ã€å°¿ç´ ã€çŸ³ç°ã€Nâ‚‚Oï¼ˆåœŸå£Œï¼šç›´æ¥+é–“æ¥ï¼‰ã€‚</div>
        </div>

        <div class="card">
            <h2>â‘£ ã“ã®ãƒ„ãƒ¼ãƒ«ã®è¨ˆç®—æ ¹æ‹ ï¼ˆå›½éš›æ¨™æº–ã¨æ—¥æœ¬ã®å…¬è¡¨å€¤ã«æº–æ‹ ï¼‰</h2>
            <ul class="note" style="line-height:1.9">
                <li>
                    <b>æº–æ‹ ã™ã‚‹åŸºæº–ãƒ»è€ƒãˆæ–¹</b><br>
                    ãƒ»è£½å“ã‚«ãƒ¼ãƒœãƒ³ãƒ•ãƒƒãƒˆãƒ—ãƒªãƒ³ãƒˆã®æ çµ„ã¿ï¼š
                    <a href="https://ghgprotocol.org/product-standard" target="_blank" rel="noopener">GHG Protocol
                        Product Standard</a> ï¼
                    <a href="https://www.iso.org/standard/71206.html" target="_blank" rel="noopener">ISO
                        14067:2018</a><br>
                    ãƒ»è¾²æ¥­ã®æ’å‡ºåŸå˜ä½ã¨æ–¹ç¨‹å¼ï¼š
                    <a href="https://www.ipcc-nggip.iges.or.jp/public/2006gl/pdf/4_Volume4/V4_11_Ch11_N2O%26CO2.pdf"
                        target="_blank" rel="noopener">IPCC 2006 GL Vol.4 Ch.11</a> ï¼‹
                    <a href="https://www.ipcc-nggip.iges.or.jp/public/2019rf/pdf/4_Volume4/19R_V4_Ch11_Soils_N2O_CO2.pdf"
                        target="_blank" rel="noopener">2019 Refinement</a><br>
                    ãƒ»åœ°çƒæ¸©æš–åŒ–ä¿‚æ•°ï¼ˆGWP100ï¼‰ï¼š<a
                        href="https://ghgprotocol.org/sites/default/files/2024-08/Global-Warming-Potential-Values%20%28August%202024%29.pdf"
                        target="_blank" rel="noopener">IPCC AR6ï¼ˆNâ‚‚O=273ï¼‰</a>
                </li>

                <li>
                    <b>é›»åŠ›ï¼ˆã‚¹ã‚³ãƒ¼ãƒ—2ï¼‰</b>ï¼š<code>æ’å‡ºé‡ = å¹´é–“ä½¿ç”¨é‡(kWh) Ã— æ’å‡ºä¿‚æ•°(kg-COâ‚‚/kWh)</code><br>
                    ãƒ»åœ°åŸŸã®ä¿‚æ•°ä¾‹ï¼ˆä¹å·é›»åŠ› 2023å¹´åº¦ å®Ÿç¸¾ï¼‰ï¼š
                    <a href="https://www.kyuden.co.jp/sustainability/environment/notice02.html" target="_blank"
                        rel="noopener">0.417 kg-COâ‚‚/kWhï¼ˆãƒ¡ãƒ‹ãƒ¥ãƒ¼Bï¼‰</a><br>
                    ãƒ»é›»æ°—äº‹æ¥­è€…åˆ¥ã®æœ€æ–°ä¿‚æ•°ä¸€è¦§ï¼š
                    <a href="https://policies.env.go.jp/earth/ghg-santeikohyo/calc.html" target="_blank"
                        rel="noopener">ç’°å¢ƒçœã€Œç®—å®šãƒ»å ±å‘Šãƒ»å…¬è¡¨åˆ¶åº¦ã€ä¿‚æ•°ä¸€è¦§</a>
                </li>

                <li>
                    <b>ç‡ƒæ–™ï¼ˆã‚¹ã‚³ãƒ¼ãƒ—1ï¼šAé‡æ²¹ãƒ»LPGãƒ»è»½æ²¹ãªã©ï¼‰</b>ï¼š<code>æ’å‡ºé‡ = å¹´é–“ä½¿ç”¨é‡ Ã— ç‡ƒæ–™åˆ¥ä¿‚æ•°</code><br>
                    ãƒ»å‚è€ƒä¿‚æ•°ï¼ˆä¾‹ï¼‰ï¼šAé‡æ²¹ 2.75 kg-COâ‚‚/Lã€LPG 2.99 kg-COâ‚‚/kgã€è»½æ²¹ 2.62 kg-COâ‚‚/Lï¼ˆç’°å¢ƒçœå…¬è¡¨ï¼‰<br>
                    å‚ç…§ï¼š<a href="https://www.env.go.jp/content/000274769.pdf" target="_blank" rel="noopener">ç’°å¢ƒçœ
                        è³‡æ–™ï¼ˆ2024/12ï¼‰</a>
                </li>

                <li>
                    <b>çŸ³ç°ï¼ˆç‚­ã‚«ãƒ«ï¼‰ãƒ»å°¿ç´ ã®COâ‚‚</b>ï¼ˆIPCC 2006 GL Ch.11ï¼‰<br>
                    ãƒ»çŸ³ç°ï¼ˆç‚­é…¸ã‚«ãƒ«ã‚·ã‚¦ãƒ ï¼‰ï¼š<code>COâ‚‚ = çŸ³ç°é‡(kg) Ã— 0.44</code><br>
                    ãƒ»å°¿ç´ ï¼š<code>COâ‚‚ = å°¿ç´ é‡(kg) Ã— 0.733</code>ï¼ˆå°¿ç´ ä¸­C=0.20 ã‚’ COâ‚‚æ›ç®— 0.20Ã—44/12ï¼‰<br>
                    å‡ºå…¸ï¼š<a href="https://www.ipcc-nggip.iges.or.jp/public/2006gl/pdf/4_Volume4/V4_11_Ch11_N2O%26CO2.pdf"
                        target="_blank" rel="noopener">IPCC 2006 GL Ch.11</a>
                </li>

                <li>
                    <b>åœŸå£Œç”±æ¥ Nâ‚‚Oï¼ˆåŒ–å­¦è‚¥æ–™Nã‚’èµ·ç‚¹ã€Tier1ï¼‰</b><br>
                    ãƒ»ç›´æ¥ï¼š<code>Nâ‚‚O-N = NæŠ•å…¥é‡ Ã— EF1(=1%)</code><br>
                    ãƒ»é–“æ¥ï¼ˆæ®æ•£ï¼‰ï¼š<code>Næ®æ•£ = NæŠ•å…¥Ã—FRAC<sub>vol</sub>(0.10)</code>ã€<code>Nâ‚‚O-N= Næ®æ•£Ã—EF<sub>vol</sub>(1%)</code><br>
                    ãƒ»é–“æ¥ï¼ˆæº¶è„±ï¼‰ï¼š<code>Næº¶è„± = NæŠ•å…¥Ã—FRAC<sub>leach</sub>(0.30)</code>ã€<code>Nâ‚‚O-N= Næº¶è„±Ã—EF<sub>leach</sub>(0.0075)</code><br>
                    ãƒ»Nâ‚‚Oï¼ˆè³ªé‡ï¼‰ï¼ <code>(Nâ‚‚O-Nåˆè¨ˆ) Ã— (44/28)</code>ã€COâ‚‚e å¤‰æ›ï¼ <code>Nâ‚‚O Ã— GWP<sub>100</sub>(=273)</code><br>
                    å‡ºå…¸ï¼š<a href="https://www.ipcc-nggip.iges.or.jp/public/2006gl/pdf/4_Volume4/V4_11_Ch11_N2O%26CO2.pdf"
                        target="_blank" rel="noopener">IPCC 2006 GL Ch.11</a> ï¼
                    <a href="https://www.ipcc-nggip.iges.or.jp/public/2019rf/pdf/4_Volume4/19R_V4_Ch11_Soils_N2O_CO2.pdf"
                        target="_blank" rel="noopener">2019 Refinement</a>
                </li>

                <li>
                    <b>ã€Œåœ°åŸŸã®å¹³å‡çš„ãªç›®å®‰ã€ã‚½ãƒ¼ã‚¹ï¼ˆé¹¿å…å³¶ãƒ»ä¿ƒæˆãƒ™ãƒ¼ã‚¹ã®ä¾‹ï¼‰</b><br>
                    ãƒ»ç‡ƒæ²¹ 13kL/10aã€åé‡ 13ã€œ14t/10aï¼ˆåœ’èŠ¸äº‹ä¾‹ï¼‰ï¼š
                    <a href="https://www.pref.kagoshima.jp/ag06/hanakaju/documents/106327_20230512131617-1.pdf"
                        target="_blank" rel="noopener">é¹¿å…å³¶çœŒã€Œè¾²ä½œç‰©ç”Ÿç”£ã‚³ã‚¹ãƒˆä½æ¸›å¯¾ç­–ã€</a><br>
                    ãƒ»çª’ç´  50kg-N/10aï¼ˆã‹ã‚“æ°´æ–½è‚¥ãªã‚‰ 42kg-N/10aï¼‰ï¼š
                    <a href="https://www.pref.kagoshima.jp/ag05/documents/81177_20200508091432-1.pdf" target="_blank"
                        rel="noopener">é¹¿å…å³¶çœŒ æ–½è‚¥åŸºæº–ï¼ˆãƒ”ãƒ¼ãƒãƒ³ï¼‰</a> ï¼
                    <a href="https://www.maff.go.jp/j/seisan/kankyo/hozen_type/h_sehi_kizyun/" target="_blank"
                        rel="noopener">MAFF éƒ½é“åºœçœŒæ–½è‚¥åŸºæº–</a><br>
                    ãƒ»ï¼ˆé›»åŠ›ã®ç›®å®‰äº‹ä¾‹ï¼‰åŠ æ¸©æœŸ 756.7 kWh/10aï¼š
                    <a href="https://www.city.miyazaki.miyazaki.jp/fs/8/4/3/1/4/2/_/843142.pdf" target="_blank"
                        rel="noopener">å®®å´å¸‚ã€Œçœã‚¨ãƒå‹æ–½è¨­åœ’èŠ¸è¨­å‚™ å®Ÿè¨¼ï¼ˆä»¤å’Œ6ï¼‰ã€</a><br>
                    ãƒ»COâ‚‚æ–½ç”¨ï¼ˆLPã‚¬ã‚¹ç‡ƒç„¼ï¼‰ã«é–¢ã™ã‚‹æŠ€è¡“è³‡æ–™ï¼š
                    <a href="https://jgha.com/wp-content/uploads/2020/03/TM04-2-text4_7.pdf" target="_blank"
                        rel="noopener">æ—¥æœ¬æ–½è¨­åœ’èŠ¸å”ä¼š å…±é€šãƒ†ã‚­ã‚¹ãƒˆ</a> ï¼
                    <a href="https://www.pref.ibaraki.jp/nourinsuisan/enken/seika/yasai/tomato/documents/s2223.pdf"
                        target="_blank" rel="noopener">èŒ¨åŸçœŒï¼ˆãƒˆãƒãƒˆäº‹ä¾‹ï¼‰</a> ï¼
                    <a href="https://www.pref.okayama.jp/uploaded/life/444292_2985492_misc.pdf" target="_blank"
                        rel="noopener">å²¡å±±çœŒï¼ˆãƒŠã‚¹äº‹ä¾‹ï¼‰</a>
                </li>

                <li>
                    <b>æ—¥æœ¬åˆ¶åº¦ã®æ•´åˆ</b>ï¼šé›»æ°—ãƒ»ç‡ƒæ–™ã®ä¿‚æ•°ã¯
                    <a href="https://policies.env.go.jp/earth/ghg-santeikohyo/calc.html" target="_blank"
                        rel="noopener">ç’°å¢ƒçœã€Œç®—å®šãƒ»å ±å‘Šãƒ»å…¬è¡¨åˆ¶åº¦ã€</a> ã®å…¬è¡¨å€¤ã¨æ•´åˆã‚’å–ã£ã¦ã„ã¾ã™ã€‚
                    æ–½è¨­åœ’èŠ¸ã®çœã‚¨ãƒæŠ€è¡“ã¯
                    <a href="https://www.maff.go.jp/j/seisan/kankyo/ondanka/attach/pdf/index-112.pdf" target="_blank"
                        rel="noopener">ã€Œæ–½è¨­åœ’èŠ¸çœã‚¨ãƒãƒ«ã‚®ãƒ¼ç”Ÿç”£ç®¡ç†ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ï¼ˆæ”¹å®š2ç‰ˆï¼‰ã€</a>
                    ã‚’å‚ç…§ã€‚
                </li>
            </ul>
        </div>
    </div>

    <script>
        // ===== åœ°åŸŸã®å¹³å‡çš„ãªç›®å®‰ï¼ˆ10aã‚ãŸã‚Šã€é¹¿å…å³¶ãƒ»ä¿ƒæˆãƒ™ãƒ¼ã‚¹ï¼‰ =====
        // å‡ºå…¸ï¼šç‡ƒæ²¹13kL/10aãƒ»åé‡13ã€œ14tï¼ˆé¹¿å…å³¶çœŒï¼‰ã€åŠ æ¸©æœŸé›»åŠ›756.7 kWh/10aï¼ˆå®®å´å¸‚ï¼‰ã€N=50kg/10aï¼ˆé¹¿å…å³¶çœŒï¼‰
        // LPGã¯LPã‚¬ã‚¹ç‡ƒç„¼é‡0.3ã€œ0.7 kg/10a/hãƒ»CO2æ–½ç”¨3 kg-CO2/10a/h(â‰’LPG1 kg/h)ã‹ã‚‰300ã€œ400h/å¹´ã‚’æƒ³å®šã—ã¦ä¸­é–“å€¤ã‚’æ¡ç”¨
        // è»½æ²¹ã¯æ§‹å†…é‹æ¬ç­‰ã®å‘¨è¾ºç”¨é€”ã¨ã—ã¦ä»®ç½®ãï¼ˆç¾åœ°ã§ä¸Šæ›¸ãå‰æï¼‰
        const REGION_PER10A = {
            kwh: 757,     // å®®å´å¸‚ åŠ æ¸©æœŸå®Ÿæ¸¬ â‰’756.7 kWh/10aï¼ˆå‚è€ƒï¼‰
            oil: 13000,   // Aé‡æ²¹ 13kL/10aï¼ˆé¹¿å…å³¶çœŒè³‡æ–™ï¼‰
            lpg: 250,     // CO2æ–½ç”¨ã‚ã‚Šæƒ³å®šã®ä»£è¡¨å€¤ï¼ˆãƒ‡ãƒ¢ç”¨ãƒ»ä¸Šæ›¸ãå¯ï¼‰
            diesel: 20,      // ä»®ç½®ãï¼ˆç¾åœ°å®Ÿæ¸¬ã§è¦ä¸Šæ›¸ãï¼‰
            n: 50,      // æ–½è‚¥åŸºæº–ï¼ˆNï¼‰
            urea: 13,      // ã€Œå°¿ç´ ã‚’Næˆåˆ†ã§6kg/10aã€â†’è£½å“é‡ã«æ›ç®—ï¼ˆ6/0.46ï¼‰
            lime: 150,     // pHçŸ¯æ­£ã®ä¸€èˆ¬çš„ãƒ¬ãƒ³ã‚¸100ã€œ200ã‹ã‚‰ä¸­é–“å€¤
            yield: 13500    // 13ã€œ14t/10aã®ä¸­ç‚¹
        };

        // ===== æ’å‡ºä¿‚æ•°ï¼ˆå›ºå®šï¼‰ =====
        const EF = {
            grid: 0.417,   // kg-CO2/kWhï¼ˆä¾‹ï¼šä¹å·ï¼‰
            oil: 2.75,    // kg-CO2/L
            lpg: 2.99,    // kg-CO2/kg
            diesel: 2.62,  // kg-CO2/L
            urea: 0.20,    // kg-CO2/kgï¼ˆå°¿ç´ ã®åŠ æ°´åˆ†è§£ï¼‰
            lime: 0.44,    // kg-CO2/kgï¼ˆCaCO3ï¼‰
            // IPCC 2006/2019 Tier1
            ef1: 0.01,       // ç›´æ¥ N2O-N
            frac_vol: 0.10,  // æ®æ•£ç‡
            ef_vol: 0.01,    // æ®æ•£åˆ† N2O-N
            frac_leach: 0.30,// æº¶è„±ç‡
            ef_leach: 0.0075,// æº¶è„±åˆ† N2O-N
            gwp_n2o: 273     // AR6
        };
        const M = 44 / 28;   // N2O / N2O-N
        const $ = id => document.getElementById(id);
        const fmt = x => new Intl.NumberFormat('ja-JP', { maximumFractionDigits: 2 }).format(x);

        // å…¥åŠ›é …ç›®ï¼ˆèª¬æ˜ã¯å¹´é…ã®æ–¹ã«ã‚‚ä¼ã‚ã‚‹èªã«ï¼‰
        const ITEMS = [
            { key: 'kwh', label: 'é›»åŠ›ï¼ˆkWh/å¹´ï¼‰', help: '1å¹´é–“ã®é›»æ°—ä½¿ç”¨é‡ï¼ˆè«‹æ±‚æ›¸ã®åˆè¨ˆkWhï¼‰' },
            { key: 'oil', label: 'æš–æˆ¿ç”¨ ç‡ƒæ²¹ï¼ˆAé‡æ²¹, L/å¹´ï¼‰', help: 'æ¸©é¢¨æ©Ÿãƒ»ãƒœã‚¤ãƒ©ãƒ¼ã§ä½¿ã†Aé‡æ²¹ã®å¹´é–“åˆè¨ˆL' },
            { key: 'lpg', label: 'ãƒ—ãƒ­ãƒ‘ãƒ³ã‚¬ã‚¹ï¼ˆLPG, kg/å¹´ï¼‰', help: 'COâ‚‚æ–½ç”¨ãªã©ã§ä½¿ã†LPGã®å¹´é–“åˆè¨ˆkgï¼ˆæœªä½¿ç”¨ãªã‚‰0ã§OKï¼‰' },
            { key: 'diesel', label: 'è»½æ²¹ï¼ˆL/å¹´ï¼‰', help: 'æ§‹å†…ã®é‹æ¬ãƒ»æ©Ÿæ¢°ã§ä½¿ã†ç‡ƒæ–™ï¼ˆã–ã£ãã‚Šã§OKï¼‰' },
            { key: 'n', label: 'åŒ–å­¦è‚¥æ–™ã®çª’ç´ ï¼ˆkg-N/å¹´ï¼‰', help: 'è‚¥æ–™ã®æˆåˆ†è¡¨ã‹ã‚‰çª’ç´ ï¼ˆNï¼‰é‡ã ã‘ã‚’åˆè¨ˆ' },
            { key: 'urea', label: 'å°¿ç´ ï¼ˆkg/å¹´ï¼‰', help: 'å°¿ç´ ãã®ã‚‚ã®ã®ä½¿ç”¨é‡ï¼ˆä½¿ã£ã¦ã„ãªã‘ã‚Œã°0ï¼‰' },
            { key: 'lime', label: 'çŸ³ç°ï¼ˆç‚­é…¸ã‚«ãƒ«ã‚·ã‚¦ãƒ , kg/å¹´ï¼‰', help: 'pHèª¿æ•´ã®ãŸã‚ã®çŸ³ç°ï¼ˆä½¿ã£ã¦ã„ãªã‘ã‚Œã°0ï¼‰' },
            { key: 'yield', label: 'å‡ºè·é‡ï¼ˆkg/å¹´ï¼‰', help: '1å¹´é–“ã®å‡ºè·åˆè¨ˆï¼ˆkgï¼‰' }
        ];

        // ãƒ†ãƒ¼ãƒ–ãƒ«ç”Ÿæˆ
        function buildInputTable() {
            const tb = $('tbody_inputs'); tb.innerHTML = '';
            ITEMS.forEach(it => {
                const tr = document.createElement('tr');

                const td0 = document.createElement('td');
                td0.innerHTML = `<b>${it.label}</b><div class="note">${it.help}</div>`;

                const td1 = document.createElement('td'); td1.className = 'inputCell';
                td1.innerHTML = `<input id="${it.key}" type="number" min="0" step="0.01" value="0">`;

                const td2 = document.createElement('td');
                td2.innerHTML = `<span class="bench">åœ°åŸŸã®ç›®å®‰ï¼š<b id="bench_${it.key}">0</b></span>`;

                const td3 = document.createElement('td'); td3.id = `diff_${it.key}`;
                tr.appendChild(td0); tr.appendChild(td1); tr.appendChild(td2); tr.appendChild(td3);
                tb.appendChild(tr);
            });

            document.querySelectorAll('.inputCell input').forEach(el => {
                el.addEventListener('input', recalc);
                el.addEventListener('change', recalc);
            });
        }

        function regionForArea(A) {
            const r = {};
            for (const k in REGION_PER10A) { r[k] = REGION_PER10A[k] * (A / 10); }
            return r;
        }

        function readUser() {
            const get = id => parseFloat($(id).value || 0);
            return {
                areaA: parseFloat($('areaA').value || 10),
                kwh: get('kwh'), oil: get('oil'), lpg: get('lpg'), diesel: get('diesel'),
                n: get('n'), urea: get('urea'), lime: get('lime'), yield: get('yield')
            }
        }

        function totals(inp) {
            const e_elec = inp.kwh * EF.grid;
            const e_oil = inp.oil * EF.oil;
            const e_lpg = inp.lpg * EF.lpg;
            const e_dies = inp.diesel * EF.diesel;
            const e_urea = inp.urea * EF.urea;
            const e_lime = inp.lime * EF.lime;
            const n2o_dir = inp.n * EF.ef1 * M;
            const n2o_vol = inp.n * EF.frac_vol * EF.ef_vol * M;
            const n2o_leach = inp.n * EF.frac_leach * EF.ef_leach * M;
            const e_n2o = (n2o_dir + n2o_vol + n2o_leach) * EF.gwp_n2o;
            return { total: e_elec + e_oil + e_lpg + e_dies + e_urea + e_lime + e_n2o, e_elec, e_oil, e_lpg, e_dies, e_urea, e_lime, e_n2o };
        }

        function recalc() {
            const u = readUser();
            const b = regionForArea(u.areaA);

            // ç›®å®‰ã¨å·®åˆ†
            ITEMS.forEach(it => {
                const bench = b[it.key] || 0;
                const val = u[it.key] || 0;
                document.getElementById('bench_' + it.key).textContent = fmt(bench);
                const diff = val - bench;
                let cls = diff <= 0 ? 'deltaPos' : 'deltaNeg';
                // å¿ƒç†çš„è² æ‹…è»½æ¸›ï¼šç›®å®‰ãŒ0ã«è¿‘ã„å ´åˆã¯ä¸­ç«‹è¡¨ç¤º
                if (bench < 1 && val > 0) { cls = ''; }
                document.getElementById('diff_' + it.key).innerHTML = `<span class="${cls}">${fmt(diff)}</span>`;
            });

            // é›†è¨ˆ
            const agr = totals(u);
            const reg = totals(b);

            document.getElementById('kpi_total').textContent = fmt(agr.total);
            document.getElementById('kpi_intensity').textContent = (u.yield > 0 ? fmt(agr.total / u.yield) : 'â€”');
            const deltaPct = (reg.total > 0) ? ((agr.total / reg.total - 1) * 100) : NaN;
            const deltaHtml = isFinite(deltaPct) ? `<span class="${deltaPct <= 0 ? 'deltaPos' : 'deltaNeg'}">${fmt(deltaPct)}%</span>` : 'â€”';
            document.getElementById('kpi_delta').innerHTML = deltaHtml;
            const absRed = (isFinite(deltaPct) ? (reg.total - agr.total) : 0);
            document.getElementById('kpi_abs_reduction').innerHTML = (isFinite(absRed) ? fmt(absRed) : 'â€”');

            // å†…è¨³
            const rows = [
                ['é›»åŠ›', agr.e_elec, reg.e_elec],
                ['Aé‡æ²¹ï¼ˆæš–æˆ¿ï¼‰', agr.e_oil, reg.e_oil],
                ['LPGï¼ˆCOâ‚‚æ–½ç”¨ãªã©ï¼‰', agr.e_lpg, reg.e_lpg],
                ['è»½æ²¹ï¼ˆæ§‹å†…é‹æ¬ç­‰ï¼‰', agr.e_dies, reg.e_dies],
                ['å°¿ç´ ', agr.e_urea, reg.e_urea],
                ['çŸ³ç°', agr.e_lime, reg.e_lime],
                ['Nâ‚‚Oï¼ˆåœŸå£Œ, ç›´æ¥+é–“æ¥ï¼‰', agr.e_n2o, reg.e_n2o]
            ];
            const tb = document.getElementById('tbody_break'); tb.innerHTML = '';
            rows.forEach(r => {
                const diff = r[1] - r[2];
                const cls = diff <= 0 ? 'deltaPos' : 'deltaNeg';
                const tr = document.createElement('tr');
                tr.innerHTML = `<td>${r[0]}</td><td>${fmt(r[1])}</td><td>${fmt(r[2])}</td><td class="${cls}">${fmt(diff)}</td>`;
                tb.appendChild(tr);
            });
        }

        function init() {
            buildInputTable();
            document.getElementById('areaA').addEventListener('input', recalc);
            document.getElementById('areaA').addEventListener('change', recalc);
            recalc();
        }
        init();
    </script>
</body>

</html>